# 事件捕获

###       事件捕获的作用

​          在项目的整体介绍中我们提到，在链上的数据变动后，我们需要将变动的数据同步到数据库中，便于我们做统计操作。那么后台如何感知链上数据的变动呢?

我们可以在合约中定义一些事件，当链上数据发生变化时，触发对应的事件，那么后端就需要捕获到事件并将事件中存储的数据写入到同步数据库中。

###       具体实施

​          首先我们在合约中定义事件，在链上的值发生改变时，触发对应事件；然后编写node脚本，使用ether.js库中提供的监听事件的方法对链上的数据进行监听，一旦事件被触发，我们的脚本就会获取到事件本身以及其中存储的值；最后，脚本在将数据同步到数据库中。